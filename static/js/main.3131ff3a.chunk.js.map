{"version":3,"sources":["components/Heading.tsx","utils/sounds.ts","hooks/useTimeout.tsx","providers/LoopStateProvider.tsx","components/Pad.tsx","components/Buttons.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Heading","className","sounds","Audio","useTimeout","callback","delay","savedCallback","useRef","useEffect","current","id","setTimeout","clearTimeout","LoopStateContext","createContext","useLoopStateContext","useContext","LoopStateProvider","children","useState","isLoopPlaying","setIsLoopPlaying","allInstrumentsStates","setAllInstrumentsStates","setDelay","playOrPauseLoop","play","playOrPauseInstruments","startInterval","activeInstrumentsIndex","flatMap","instrument","index","instrumentIndex","currentTime","pause","Provider","value","toggleSingleInstrumentStateByIndex","Array","Pad","soundSrc","sound","loopStateContext","src","split","toUpperCase","onClick","Buttons","App","map","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3131ff3a.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Heading: React.FunctionComponent = () => {\r\n    return (\r\n        <div className=\"heading\">\r\n            <h1>Crazy Loops!</h1>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Heading;","export const sounds: HTMLAudioElement[] = [\r\n    new Audio('../../../static/sound(1).mp3'),\r\n    new Audio('../../../static/sound(2).mp3'),\r\n    new Audio('../../../static/sound(3).mp3'),\r\n    new Audio('../../../static/sound(4).mp3'),\r\n    new Audio('../../../static/sound(5).mp3'),\r\n    new Audio('../../../static/sound(6).mp3'),\r\n    new Audio('../../../static/sound(7).mp3'),\r\n    new Audio('../../../static/sound(8).mp3'),\r\n    new Audio('../../../static/sound(9).mp3'),\r\n];","import { useEffect, useRef } from 'react'\r\n\r\nfunction useTimeout(callback: () => void, delay: number | null) {\r\n  const savedCallback = useRef(callback)\r\n\r\n  // Remember the latest callback if it changes.\r\n  useEffect(() => {\r\n    savedCallback.current = callback\r\n  }, [callback])\r\n\r\n  // Set up the timeout.\r\n  useEffect(() => {\r\n    // Don't schedule if no delay is specified.\r\n    if (delay === null) {\r\n      return\r\n    }\r\n\r\n    const id = setTimeout(() => savedCallback.current(), delay)\r\n\r\n    return () => clearTimeout(id)\r\n  }, [delay])\r\n}\r\n\r\nexport default useTimeout;","import { createContext, useContext, useState } from \"react\"\r\nimport type { ReactNode } from 'react';\r\nimport { sounds } from \"../utils/sounds\";\r\nimport useTimeout from \"../hooks/useTimeout\";\r\n\r\nexport type LoopStateContextType = {\r\n    isLoopPlaying: boolean,\r\n    setIsLoopPlaying: (newState: boolean) => void,\r\n    allInstrumentsStates: boolean[],\r\n    setAllInstrumentsStates: (newState: boolean[]) => void,\r\n    playOrPauseLoop: (play: boolean) => void,\r\n    toggleSingleInstrumentStateByIndex: (instrumentIndex: number) => void\r\n};\r\n\r\n/**\r\n * The amount of miliseconds set in the timeout\r\n */\r\nconst timeOutDelay: number = 8000;\r\n\r\nconst LoopStateContext = createContext<LoopStateContextType | null>(null);\r\nexport const useLoopStateContext = () => useContext(LoopStateContext);\r\n\r\nexport const LoopStateProvider = ({ children }: { children: ReactNode }) => {\r\n    \r\n    const [isLoopPlaying, setIsLoopPlaying] = useState<boolean>(false);\r\n    const [allInstrumentsStates, setAllInstrumentsStates] = useState<boolean[]>([false, false, false, false, false, false, false, false, false]);\r\n    const [delay, setDelay] = useState<number | null>(null);\r\n    \r\n    /**\r\n     * @param play - if set to true it starts to play, if false it will stop the Loop.\r\n     */\r\n    const playOrPauseLoop = (play: boolean): void => {\r\n        setIsLoopPlaying(play);\r\n        playOrPauseInstruments(play);\r\n        if (play) {\r\n            startInterval();\r\n        } else {\r\n            setDelay(null);\r\n        };\r\n    };\r\n    /**\r\n     * @returns An array of the active instrument's indexes.\r\n     */\r\n    const getCurrentActiveInstrumentsIndex = (): number[] => {\r\n        return allInstrumentsStates.flatMap((instrument: boolean, index: number) => instrument ? index : []);\r\n    };\r\n    /**\r\n     * @param play - if set to true it starts to play, if false it will pause all instruments.\r\n     */\r\n    const playOrPauseInstruments = (play: boolean): void => {\r\n        // check which of the instruments is set to true.\r\n        const activeInstrumentsIndex: number[] = getCurrentActiveInstrumentsIndex();\r\n        // play / pause the audio of these instruments\r\n        if (play) {\r\n            for (let instrumentIndex of activeInstrumentsIndex) {\r\n                sounds[instrumentIndex].currentTime = 0;\r\n                sounds[instrumentIndex].play();\r\n            };\r\n        } else {\r\n            for (let sound of sounds) {\r\n                sound.pause();\r\n            };\r\n        };\r\n    };\r\n    /**\r\n     * Toggles the state of a single instrument boolean state in allInstrumentsStates array.\r\n     * @param instrumentIndex;\r\n    */\r\n    const toggleSingleInstrumentStateByIndex = (instrumentIndex: number): void => {\r\n        allInstrumentsStates[instrumentIndex] = !allInstrumentsStates[instrumentIndex];\r\n        setAllInstrumentsStates(new Array(...allInstrumentsStates));\r\n        // if the new instrument state is false, stop playing instrument immidietly\r\n        if (!allInstrumentsStates[instrumentIndex]) {\r\n            sounds[instrumentIndex].pause();\r\n        };\r\n        // if the new instrument state is true and loop is not playing, start playing loop.\r\n        if (allInstrumentsStates[instrumentIndex] && !isLoopPlaying) {\r\n            playOrPauseLoop(true);\r\n        };\r\n    };\r\n    \r\n    const startInterval = (): void => {\r\n        setDelay(timeOutDelay);\r\n    };\r\n    /**\r\n     * Executes at the end of a timeOut interval.\r\n     */\r\n    const timeOutCallback = (): void => {\r\n        if (isLoopPlaying) {\r\n            playOrPauseInstruments(true);\r\n            setDelay(timeOutDelay);\r\n        }else{\r\n            setDelay(null);\r\n        };\r\n    };\r\n    // Instance of the timeout being run recursivly\r\n    useTimeout(timeOutCallback, delay);\r\n\r\n    return (\r\n        <LoopStateContext.Provider value={{ isLoopPlaying, setIsLoopPlaying, allInstrumentsStates, setAllInstrumentsStates, toggleSingleInstrumentStateByIndex, playOrPauseLoop }}>\r\n            {children}\r\n        </LoopStateContext.Provider>\r\n    )\r\n};\r\n\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport { useLoopStateContext } from './../providers/LoopStateProvider';\r\n\r\ntype PadProps = {\r\n    sound: HTMLAudioElement,\r\n    instrumentIndex: number,\r\n}\r\n\r\nconst Pad: React.FunctionComponent<PadProps> = ({ sound, instrumentIndex }: PadProps) => {\r\n\r\n    const loopStateContext = useLoopStateContext();\r\n\r\n    const parseSoundNameFromSrc = (soundSrc: string): string => {\r\n        return soundSrc.split('/')[4].split('.')[0].toUpperCase();\r\n    }\r\n\r\n    return (\r\n        <div className=\"pad\">\r\n            <p>{parseSoundNameFromSrc(sound.src)}</p>\r\n            <button\r\n                onClick={() => { loopStateContext?.toggleSingleInstrumentStateByIndex(instrumentIndex) }}\r\n            >\r\n                {loopStateContext?.allInstrumentsStates[instrumentIndex] ? 'Pause' : 'Play' }\r\n            </button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Pad;","import React from 'react';\r\nimport { useLoopStateContext } from './../providers/LoopStateProvider';\r\n\r\ntype ButtonsProps = {}\r\n\r\nconst Buttons: React.FunctionComponent<ButtonsProps> = () => {\r\n\r\n    const loopStateContext = useLoopStateContext();\r\n\r\n    return (\r\n        <div>\r\n            <button\r\n                onClick={() => {loopStateContext?.playOrPauseLoop(!loopStateContext?.isLoopPlaying)}}\r\n            >\r\n                {loopStateContext?.isLoopPlaying ? 'Pause' : 'Play'}\r\n            </button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Buttons;","import './App.css';\r\nimport Heading from './components/Heading';\r\nimport { sounds } from './utils/sounds';\r\nimport Pad from './components/Pad';\r\nimport Buttons from './components/Buttons';\r\n\r\nfunction App() {\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <audio src=\"\"></audio>\r\n      <Heading></Heading>\r\n      <Buttons></Buttons>\r\n      <div className=\"pads-container\">\r\n        {\r\n          sounds.map((sound: HTMLAudioElement, index: number) => {\r\n            return (\r\n              <Pad key={index} sound={sound} instrumentIndex={index} ></Pad>\r\n            )\r\n          })\r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { LoopStateProvider } from './providers/LoopStateProvider';\n\nReactDOM.render(\n  <React.StrictMode>\n    <LoopStateProvider>\n      <App />\n    </LoopStateProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}